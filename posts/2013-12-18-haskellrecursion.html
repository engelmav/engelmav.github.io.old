<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>the slow burn - Tracing recursion</title>
        <link rel="stylesheet" href="../css/default.css" />
    </head>
    <body>
        <div id="header">
            <div id="logo">
                <a href="../">the slow burn</a>
            </div>
            <div id="navigation">
                <a href="../">Home</a>
                <a href="../about.html">About</a>
                <a href="../contact.html">Contact</a>
                <a href="../archive.html">Archive</a>
            </div>
        </div>

        <div id="content">
            <h1>Tracing recursion</h1>
            <div class="info">
    Posted on December 18, 2013
    
        by Vincent Engelmann
    
</div>

<p>I found a way to write out the recursion execution in such a way that it was clearer to me.</p>
<p>For the following code (from <a href="http://learnyouahaskell.com/recursion">LYAH</a>):</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">maximum' ::</span> (<span class="dt">Ord</span> a) <span class="ot">=&gt;</span> [a] <span class="ot">-&gt;</span> a
maximum' []  <span class="fu">=</span> error <span class="st">&quot;Cannot find max of empty list.&quot;</span>
maximum' [x] <span class="fu">=</span> x
maximum' (x<span class="fu">:</span>xs) <span class="fu">=</span> max x (maximum' xs)</code></pre></div>
<p>We can trace this as follows:</p>
<p>Let’s say we pass it the list [ 2, 5, 1 ]. Each step here shows which pattern matched.</p>
<table>
<thead>
<tr class="header">
<th>Step</th>
<th>What code looks like</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td><code>maximum' (2:[5,1]) = max 2 (maximum' [5,1]</code></td>
</tr>
<tr class="even">
<td>2</td>
<td><code>maximum' (5:[1])  = max 5 (maximum' [1])</code></td>
</tr>
<tr class="odd">
<td>3</td>
<td><code>maximum' ([1])     = 1</code></td>
</tr>
</tbody>
</table>
<p>We’ve sort of traced this program <em>down</em> into its recursion. Now we need to pull the results <em>back up</em> to the top. So, we’re going from step 3 to 2, and 2 to 1. Let’s begin. How does step 3 work with step 2? The answer (for me) has been to replace <code>maximum'</code> with the result of the next step.</p>
<p>For example, if we look at step 2:</p>
<blockquote>
<blockquote>
<p><code>maximum' (5:[1]) = max 5 (maximum' [1])</code></p>
</blockquote>
</blockquote>
<p>The result of the next step (step 3) is 1, so we replace the <code>maximum [1]</code> with <code>1</code>, and it becomes:</p>
<blockquote>
<blockquote>
<p><code>maximum' (5:[1]) = max 5 1</code></p>
</blockquote>
</blockquote>
<p>We continue doing the same thing between steps 1 and 2. Step 2 has been reduced to <code>max 5</code>, which is obviously <code>5</code>. So step 1’s right side now becomes:</p>
<blockquote>
<blockquote>
<p><code>max 2 5</code></p>
</blockquote>
</blockquote>
<p>which evaluates to <code>5</code>.</p>

        </div>

        <div id="footer">
            Site proudly generated by
            <a href="http://jaspervdj.be/hakyll">Hakyll</a>
        </div>
    </body>
</html>
